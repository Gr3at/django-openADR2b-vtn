# Django OpenADR VTN

The project aims to provide a baseline, database ready, functional OpenADR VTN Server.
- There is no intend to provide implementation support for all endpoints defined in the specification. Feel free to contribute if you need something specific.
- A TDD approach is followed, as a result what you get should be sufficiently tested. A fact which could also help on setting up your custom VEN client app. 
- Currently working on support for OpenADR 2.0b (a rather old specification).
- Support for the new OpenADR 3.0 specification might be added later based on availability and interest. 
Leveraging Django's applications for separation of concerns and implementation logic for each openADR version is a no-brainer imo, so i intend to take full advantage of that.


## Get started
You will first need to install all dependencies.
The project utilizes a `pyproject.toml` configuration file auto-generated by `poetry`.
If you `pip install --user poetry` or pipx install poetry, you then are able to install all packages with: `poetry install`.
To run the server you need to prepare the database.
If you use poetry just run: `poetry run make` and `poetry run serve`. (custom poetry script are in place to make this happen).

## Testing
To test you will need to first prepare the database.
1. convert orm to migration commands: `python src/manage.py makemigrations`
2. migrate the models to the database: `python src/manage.py migrate`
3. test: `python src/manage.py test openADR2b_vtn`
or just run `poetry run make` and `poetry run test` instead of 1,2 and 3.

## Roadmap

Gradually support should be added for several functionalities.
1. openADR 2.0b endpoints: EiRegisterParty, OadrPoll, oadrCreatedEvent and EiEvent
2. validation against openADR XML Schema Definition (XSD)


## Contributing

Just open an issue or/and a pull request if you want to add something.

